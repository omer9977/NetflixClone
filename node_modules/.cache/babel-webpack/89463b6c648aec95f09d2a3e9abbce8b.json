{"ast":null,"code":"import _asyncToGenerator from \"D:/WorkSpace/Angular/NetMovie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport videojs from 'video.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/movie-play.service\";\nimport * as i2 from \"@angular/router\";\nexport class MoviePlayComponent {\n  constructor(moviePlayService, activatedRoute) {\n    this.moviePlayService = moviePlayService;\n    this.activatedRoute = activatedRoute;\n    this.urlVideo = \"/assets/videos/Joker.mp4\";\n    this.urlPoster = \"https://1.bp.blogspot.com/-WsNSf6jZvS0/XM3YV3O4ZDI/AAAAAAAACJ8/A7K0sxMcw_gb82SO9p7JYoAW9tPIIWxRQCKgBGAs/w0/john-wick-3-keanu-reeves-uhdpaper.com-4K-23.jpg\";\n  }\n\n  ngOnInit() {\n    this.activatedRoute.params.subscribe(params => {\n      this.getMovie(params[\"id\"]);\n      this.pictureUrl = this.movie.pictureUrl;\n    });\n    console.log(this.movie);\n    console.log(this.movie.pictureUrl);\n  }\n\n  ngAfterViewInit() {\n    console.log(this.movie.pictureUrl);\n    const options = {\n      'sources': [{\n        'src': this.urlVideo,\n        'type': 'video/mp4'\n      }],\n      'poster': this.urlPoster,\n      autoplay: false,\n      html5: {\n        nativeVideoTracks: false,\n        nativeAudioTracks: false,\n        nativeTextTracks: false,\n        hls: {\n          withCredentials: false,\n          overrideNative: true,\n          debug: true\n        }\n      },\n      TextTrack: [{\n        src: '/assets/subtitles/para.vtt',\n        kind: 'captions',\n        srclang: 'en',\n        label: \"English\"\n      }]\n    };\n    this.vjs = videojs('my-player', options);\n  }\n\n  getMovie(movieId) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.moviePlayService.getMovie(movieId).subscribe(response => {\n        _this.movie = response;\n        console.warn(_this.movie);\n      });\n    })();\n  }\n\n}\n\nMoviePlayComponent.ɵfac = function MoviePlayComponent_Factory(t) {\n  return new (t || MoviePlayComponent)(i0.ɵɵdirectiveInject(i1.MoviePlayService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nMoviePlayComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MoviePlayComponent,\n  selectors: [[\"app-movie-play\"]],\n  decls: 6,\n  vars: 0,\n  consts: [[\"id\", \"my-player\", \"controls\", \"\", \"preload\", \"auto\", \"width\", \"1500\", \"height\", \"620\", 1, \"video-js\", \"vjs-big-play-centered\"], [\"kind\", \"captions\", \"src\", \"/assets/subtitles/para.vtt\", \"srclang\", \"en\", \"label\", \"English\"], [1, \"vjs-no-js\"], [\"href\", \"http://videojs.com/html5-video-support/\", \"target\", \"_blank\"]],\n  template: function MoviePlayComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"video\", 0);\n      i0.ɵɵelement(1, \"track\", 1);\n      i0.ɵɵelementStart(2, \"p\", 2);\n      i0.ɵɵtext(3, \" To view this video please enable JavaScript, and consider upgrading to a web browser that \");\n      i0.ɵɵelementStart(4, \"a\", 3);\n      i0.ɵɵtext(5, \" supports HTML5 video \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb3ZpZS1wbGF5LmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["D:\\WorkSpace\\Angular\\NetMovie\\src\\app\\components\\movie-play\\movie-play.component.ts","D:\\WorkSpace\\Angular\\NetMovie\\src\\app\\components\\movie-play\\movie-play.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, AfterViewInit, Input, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Movie } from 'src/app/models/movie';\nimport { MoviePlayService } from 'src/app/services/movie-play.service';\nimport videojs from 'video.js';\n\n@Component({\n  selector: 'app-movie-play',\n  templateUrl: './movie-play.component.html',\n  styleUrls: ['./movie-play.component.css']\n})\nexport class MoviePlayComponent implements AfterViewInit ,OnInit {\n  public vjs: videojs.Player;\n  urlVideo: string = \"/assets/videos/Joker.mp4\";\n  urlPoster: string = \"https://1.bp.blogspot.com/-WsNSf6jZvS0/XM3YV3O4ZDI/AAAAAAAACJ8/A7K0sxMcw_gb82SO9p7JYoAW9tPIIWxRQCKgBGAs/w0/john-wick-3-keanu-reeves-uhdpaper.com-4K-23.jpg\";\npictureUrl:string;\n  constructor(private moviePlayService:MoviePlayService, private activatedRoute:ActivatedRoute) { }\n  ngOnInit(): void {\n    this.activatedRoute.params.subscribe(params =>{\n      this.getMovie(params[\"id\"]);\n      this.pictureUrl = this.movie.pictureUrl;\n    });\n    console.log(this.movie)\n    console.log(this.movie.pictureUrl);\n  }\n\n  ngAfterViewInit(): void {\n   \n    console.log(this.movie.pictureUrl);\n    const options = {\n      'sources' : [{\n        'src' : this.urlVideo,\n        'type' : 'video/mp4'\n        }\n      ],\n      'poster' : this.urlPoster, \n      autoplay:false,\n      html5: {\n        nativeVideoTracks: false,\n        nativeAudioTracks: false,\n        nativeTextTracks: false,\n        hls: {\n            withCredentials: false,\n            overrideNative: true,\n            debug: true\n        }\n    },\n    TextTrack: [{\n      src: '/assets/subtitles/para.vtt', \n      kind:'captions', \n      srclang: 'en', \n      label: \"English\"\n    }\n  ] ,\n  \n\n    };\n    this.vjs = videojs('my-player', options);\n  }\n  movie:Movie;\n  \n\n  async getMovie(movieId:number){\n    this.moviePlayService.getMovie(movieId).subscribe(response => {\n     this.movie = response;\n     console.warn(this.movie);\n   });\n   }\n\n}\n","<video id=\"my-player\" class=\"video-js vjs-big-play-centered\" controls preload=\"auto\" width=\"1500\" height=\"620\">\n    <track kind='captions' src='/assets/subtitles/para.vtt' srclang='en' label='English' />\n    <p class=\"vjs-no-js\">  \n      To view this video please enable JavaScript, and consider upgrading to a\n      web browser that\n      <a href=\"http://videojs.com/html5-video-support/\" target=\"_blank\">\n        supports HTML5 video\n      </a>\n    </p>\n  </video> \n \n  "],"sourceRoot":""},"metadata":{},"sourceType":"module"}